{"version":3,"sources":["components/NotFound/NotFound.jsx","components/Header/Header.jsx","components/Banner/Banner.jsx","constants/images.js","assets/images/orange-bg.jpg","assets/images/blue-bg.jpg","assets/images/colorful-bg.jpg","assets/images/pink-bg.jpg","features/Photo/components/PhotoCard/index.jsx","features/Photo/components/PhotoList/index.jsx","features/Photo/PhotoSlice.js","features/Photo/page/Main/MainPage.jsx","constants/global.js","custom-field/InputField/index.jsx","custom-field/SelectField/index.jsx","components/RandomPhoto/index.jsx","custom-field/RandomPhotoField/index.jsx","features/Photo/components/PhotoForm/PhotoForm.jsx","features/Photo/page/AddEdit/AddEditPage.jsx","api/axiosClient.js","api/productApi.js","features/Auth/pages/SignIn/index.jsx","api/userApi.js","slice-common/userSlice.js","App.js","reportWebVitals.js","store/store.js","index.js"],"names":["NotFound","props","Header","loginBtnClick","userInfo","useSelector","state","user","current","useState","dropDown","setDropDown","handleLogOutBtn","a","window","indexedDB","databases","forEach","db","deleteDatabase","name","className","color","expand","light","to","onClick","navbar","src","photoUrl","alt","href","Banner","title","backgroundUrl","bannerStyle","backgroundImage","style","Images","ORANGE_BG","BLUE_BG","COLOR_FULL_BG","PINK_BG","PhotoCard","photo","onEditClick","onRemoveClick","outline","size","defaultProps","PhotoList","photoList","onPhotoEditClick","onPhotoRemoveClick","map","xs","md","lg","createSlice","initialState","id","categoryId","reducers","addPhoto","action","push","payload","removePhoto","removePhotoId","filter","updatePhoto","newPhoto","photoIndex","findIndex","reducer","actions","MainPage","photos","dispatch","useDispatch","navigate","useNavigate","editPhotoUrl","PHOTO_CATEGORY_OPTIONS","value","label","InputField","field","form","type","placeholder","errors","touched","showError","for","disable","invalid","component","FormFeedback","SelectField","options","selectedOption","option","onChange","selectedValue","changeEvent","target","apply","getRandomImageUrl","randomId","Math","floor","random","RandomPhoto","imageUrl","onImageUrlChange","onRandomButtonBlur","handleRandomPhotoClick","randomImageUrl","onBlur","onError","e","prototype","PropTypes","string","func","RandomPhotoField","newImageUrl","setFieldValue","PhotoForm","initialValues","validationSchema","Yup","shape","required","nullable","when","is","then","otherwise","notRequired","onSubmit","formikProps","isSubmitting","isAddMode","AddEditPage","photoId","useParams","editedPhoto","find","values","Promise","resolve","setTimeout","getFirebaseToken","currentUser","firebase","auth","getIdToken","localStorage","getItem","reject","unregisterAuthObserver","onAuthStateChanged","timer","token","clearTimeout","axiosClient","axios","create","baseURL","process","headers","paramsSerializer","params","queryString","stringify","interceptors","request","use","config","Authorization","response","data","error","ProductApi","getAll","get","url","uiConfig","signInFlow","signInSuccessUrl","signInOptions","GoogleAuthProvider","PROVIDER_ID","FacebookAuthProvider","SignInPage","firebaseAuth","userApi","getMe","uid","displayName","email","photoURL","createAsyncThunk","thunkApi","userReducer","loading","extraReducers","pending","rejected","fulfilled","initializeApp","apiKey","authDomain","App","setProducts","login","setLogin","useEffect","_page","_limit","console","log","getProductApi","actionResult","unwrapResult","message","fallback","path","element","SignIn","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","photoReducer","store","configureStore","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iWAWeA,MARf,SAAkBC,GACd,OACI,uD,gBCkFOC,G,OA5EA,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cACRC,EAAWC,aAAY,SAAAC,GAAK,OAAIA,EAAMC,KAAKC,WADf,EAEFC,oBAAS,GAFP,mBAE3BC,EAF2B,KAEjBC,EAFiB,KAS5BC,EAAe,uCAAG,sBAAAC,EAAA,sEACFC,OAAOC,UAAUC,YADf,cAEhBC,SAAQ,SAAAC,GAAQJ,OAAOC,UAAUI,eAAeD,EAAGE,SAFnC,2CAAH,qDAKrB,OACI,8BACI,eAAC,IAAD,CACIC,UAAU,OACVC,MAAM,QACNC,OAAO,KACPC,OAAK,EAJT,UAMI,cAAC,IAAD,CACIH,UAAU,oCACVI,GAAG,UAFP,4BAMA,cAAC,IAAD,CAAeC,QAAS,eACxB,cAAC,IAAD,CAAUC,QAAM,EAAhB,SACA,cAAC,IAAD,CACIA,QAAM,EADV,SAICxB,EAEE,sBAAKkB,UAAU,aAAf,UACI,qBAAKA,UAAU,iBAAiBO,IAAKxB,EAASyB,SAAUC,IAAK1B,EAASyB,WACrE,sBAAKR,UAAU,qBAAf,UACI,mBAAGA,UAAU,0BAAb,SAAwCjB,EAASgB,OACjD,mBACCM,QApCE,WACvBf,GAAaD,IAoCQW,UAAU,8CAMPX,GAEA,oBAAIW,UAAU,0BAAd,SACA,oBACCK,QAASd,EADV,SAGG,mBAAGmB,KAAK,UAAR,gDAOjB,cAAC,IAAD,CACEV,UAAU,oCACNI,GAAG,WAFT,iDCtDHO,G,OAfA,SAAC/B,GAAW,IAEfgC,EAAyBhC,EAAzBgC,MAAOC,EAAkBjC,EAAlBiC,cAETC,EAAcD,EACjB,CAAEE,gBAAgB,OAAD,OAASF,EAAT,MACjB,GAEH,OACI,yBAASb,UAAU,SAASgB,MAAOF,EAAnC,SACI,oBAAId,UAAU,gBAAd,SAA+BY,QCD5BK,EAPA,CACXC,UCNW,IAA0B,sCDOrCC,QEPW,IAA0B,oCFQrCC,cGRW,IAA0B,wCHSrCC,QITW,IAA0B,qC,OCiBzC,SAASC,EAAU1C,GAAQ,IACjB2C,EAAsC3C,EAAtC2C,MAAOC,EAA+B5C,EAA/B4C,YAAaC,EAAkB7C,EAAlB6C,cAU5B,OACE,sBAAKzB,UAAU,aAAf,UACE,qBAAKO,IAAKgB,EAAMA,MAAOd,IAAKc,EAAMX,QAElC,sBAAKZ,UAAU,iBAAf,UACE,oBAAIA,UAAU,eAAd,SAA8BuB,EAAMX,QAEpC,sBAAKZ,UAAU,iBAAf,UACE,8BACE,cAAC,IAAD,CAAQ0B,SAAO,EAACC,KAAK,KAAK1B,MAAM,QAAQI,QAjB1B,WAClBmB,GAAaA,EAAYD,IAgBrB,oBAKF,8BACE,cAAC,IAAD,CAAQG,SAAO,EAACC,KAAK,KAAK1B,MAAM,SAASI,QAnBzB,WACpBoB,GAAeA,EAAcF,IAkBzB,+BAhCZD,EAAUM,aAAe,CACvBL,MAAO,GACPC,YAAa,KACbC,cAAe,MAuCFH,QCpCf,SAASO,EAAUjD,GAAQ,IACjBkD,EAAoDlD,EAApDkD,UAAWC,EAAyCnD,EAAzCmD,iBAAkBC,EAAuBpD,EAAvBoD,mBAErC,OACE,cAAC,IAAD,UACGF,EAAUG,KAAI,SAAAV,GAAK,OAClB,cAAC,IAAD,CAAuBW,GAAG,KAAKC,GAAG,IAAIC,GAAG,IAAzC,SACE,cAAC,EAAD,CACEb,MAAOA,EACPC,YAAaO,EACbN,cAAeO,KAJTT,EAAMX,YAZxBiB,EAAUD,aAAe,CACvBE,UAAW,GACXC,iBAAkB,KAClBC,mBAAoB,MAqBPH,Q,QC2CTN,EAAQc,YAAY,CACtBtC,KAAM,SACNuC,aA9EkB,CAClB,CACEC,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,uGAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,sCACPX,MAAO,iCAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,gFAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,oDAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,kFAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,2FAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,8FAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,2GAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,6CAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,2EAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,uEAET,CACE2B,GAAI,MACJC,WAAY,EACZjB,MAAO,uCACPX,MAAO,oDAQT6B,SAAU,CACNC,SAAU,SAACzD,EAAO0D,GACd1D,EAAM2D,KAAKD,EAAOE,UAEtBC,YAAa,SAAC7D,EAAO0D,GACnB,IAAMI,EAAgBJ,EAAOE,QAC7B,OAAO5D,EAAM+D,QAAO,SAAAzB,GAAK,OAAIA,EAAMgB,KAAOQ,MAG5CE,YAAa,SAAChE,EAAO0D,GACnB,IAAMO,EAAWP,EAAOE,QAClBM,EAAalE,EAAMmE,WAAU,SAAA7B,GAAK,OAAIA,EAAMgB,KAAOW,EAASX,MAE/DY,GAAc,IACflE,EAAMkE,GAAcD,OAQxBG,EAAqB9B,EAArB8B,QAASC,EAAY/B,EAAZ+B,QACFZ,EAAuCY,EAAvCZ,SAAUI,EAA6BQ,EAA7BR,YAAaG,EAAgBK,EAAhBL,YACvBI,ICvDAE,EAzCE,WACb,IAAMC,EAASxE,aAAY,SAAAC,GAAK,OAAIA,EAAMuE,UACpCC,EAAWC,cACXC,EAAWC,cAWjB,OACI,sBAAK5D,UAAU,aAAf,UACI,cAAC,EAAD,CACEY,MAAM,sBACNC,cAAeI,EAAOI,UAGxB,eAAC,IAAD,CACErB,UAAU,cADZ,UAGE,cAAC,IAAD,CACCA,UAAU,oCACVI,GAAG,cAFJ,2BAOF,cAAC,EAAD,CACE0B,UAAW0B,EACXzB,iBA5Bc,SAACR,GACvB,IAAMsC,EAAY,sBAAkBtC,EAAMgB,IAC1CoB,EAASE,IA2BD7B,mBAxBgB,SAACT,GACzBkC,EAASX,EAAYvB,EAAMgB,eCpBpBuB,EAAyB,CACpC,CAAEC,MAAO,EAAGC,MAAO,cACnB,CAAED,MAAO,EAAGC,MAAO,aACnB,CAAED,MAAO,EAAGC,MAAO,UACnB,CAAED,MAAO,EAAGC,MAAO,WACnB,CAAED,MAAO,EAAGC,MAAO,W,gBCOfC,EAAa,SAACrF,GAAW,IACnBsF,EAA0CtF,EAA1CsF,MAAOC,EAAmCvF,EAAnCuF,KAAMC,EAA6BxF,EAA7BwF,KAAMJ,EAAuBpF,EAAvBoF,MAAOK,EAAgBzF,EAAhByF,YAE1BtE,EAASmE,EAATnE,KAEAuE,EAAoBH,EAApBG,OAAQC,EAAYJ,EAAZI,QACVC,EAAYF,EAAOvE,IAASwE,EAAQxE,GAE1C,OACI,eAAC,IAAD,WACKiE,GAAS,eAAC,IAAD,CAAOS,IAAK1E,EAAZ,cAAoBiE,EAApB,OACV,cAAC,IAAD,yBACEzB,GAAIxC,GACAmE,GAFN,IAIEE,KAAMA,EACNM,QAAQ,QACRL,YAAaA,EACbM,QAASH,KAGX,cAAC,IAAD,CAAczE,KAAMA,EAAM6E,UAAWC,UAejDZ,EAAWrC,aAAe,CACtBwC,KAAM,OACNJ,MAAO,GACPK,YAAa,IAGFJ,Q,SC5CTa,G,OAAc,SAAClG,GAAW,IACrBsF,EAA6CtF,EAA7CsF,MAAOC,EAAsCvF,EAAtCuF,KAAMY,EAAgCnG,EAAhCmG,QAASf,EAAuBpF,EAAvBoF,MAAOK,EAAgBzF,EAAhByF,YAC7BtE,EAAgBmE,EAAhBnE,KAAMgE,EAAUG,EAAVH,MACNO,EAAoBH,EAApBG,OAAQC,EAAYJ,EAAZI,QACVC,EAAYF,EAAOvE,IAASwE,EAAQxE,GAEpCiF,EAAiBD,EAAQ/B,QAAO,SAAAiC,GAAM,OAAIA,EAAOlB,QAAUA,KAiBhE,OACI,eAAC,IAAD,WACKC,GAAS,eAAC,IAAD,CAAOS,IAAK1E,EAAZ,cAAoBiE,EAApB,OAEV,cAAC,IAAD,yBACIhE,UAAWwE,GAAa,4BACxBjC,GAAIxC,GACAmE,GAHR,IAIIH,MAAOiB,EACPE,SAxBsB,SAACF,GAChC,IAAMG,EAAgBH,EACnBA,EAAejB,MACfiB,EAEII,EAAc,CAChBC,OAAQ,CACJtF,KAAMA,EACNgE,MAAOoB,IAIfjB,EAAMgB,SAASE,IAcPf,YAAaA,EACbU,QAASA,KAEZP,GAAa,cAAC,IAAD,CAAczE,KAAMA,EAAM6E,UAAWC,WAM/DC,EAAYQ,MAAM1D,aAAe,CAC7BoC,MAAO,GACPK,YAAa,GACbU,QAAS,IAGED,Q,OCtDTS,G,OAAoB,WACtB,IAAMC,EAAWC,KAAKC,MAAsB,IAAhBD,KAAKE,UACjC,MAAM,4BAAN,OAAmCH,EAAnC,cAIEI,EAAc,SAAChH,GAAW,IACnBmB,EAAyDnB,EAAzDmB,KAAM8F,EAAmDjH,EAAnDiH,SAAUC,EAAyClH,EAAzCkH,iBAAkBC,EAAuBnH,EAAvBmH,mBAErCC,EAAsB,uCAAG,4BAAAxG,EAAA,sDACxBsG,IACOG,EAAiBV,IACvBO,EAAiBG,IAHM,2CAAH,qDAO5B,OACI,sBAAKjG,UAAU,eAAf,UACI,qBAAKA,UAAU,uBAAf,SACI,cAAC,IAAD,CACC0B,SAAO,EACP3B,KAAMA,EACNE,MAAM,UACNiG,OAAQH,EACR1F,QAAS2F,EALV,8BAWJ,qBAAKhG,UAAU,2BAAf,SACK6F,GACE,qBACCtF,IAAKsF,EACLpF,IAAI,+CACJ0F,QAAU,SAACC,GAAD,OAAOA,EAAEf,OAAO9E,IAAMyF,aAQpDJ,EAAYS,UAAY,CACpBtG,KAAMuG,YAAUC,OAChBV,SAAUS,YAAUC,OACpBT,iBAAkBQ,YAAUE,KAC5BT,mBAAoBO,YAAUE,MAGlCZ,EAAYhE,aAAe,CACvB7B,KAAM,GACN8F,SAAU,GACVC,iBAAkB,KAClBC,mBAAoB,MAGTH,QCxDTa,EAAmB,SAAC7H,GAAW,IACzBsF,EAAuBtF,EAAvBsF,MAAOC,EAAgBvF,EAAhBuF,KAAMH,EAAUpF,EAAVoF,MACbjE,EAAwBmE,EAAxBnE,KAAMgE,EAAkBG,EAAlBH,MAAOmC,EAAWhC,EAAXgC,OAEb5B,EAAoBH,EAApBG,OAAQC,EAAYJ,EAAZI,QACVC,EAAYF,EAAOvE,IAASwE,EAAQxE,GAM1C,OACI,eAAC,IAAD,WACKiE,GAAS,eAAC,IAAD,CAAOS,IAAK1E,EAAZ,cAAoBiE,EAApB,OAEV,cAAC,EAAD,CACEjE,KAAMA,EACN8F,SAAU9B,EACV+B,iBAXgB,SAACY,GACvBvC,EAAKwC,cAAc5G,EAAM2G,IAWnBX,mBAAoBG,IAEtB,qBAAKlG,UAAWwE,GAAa,eAC5BA,GAAa,cAAC,IAAD,CAAczE,KAAMA,EAAM6E,UAAWC,UAY/D4B,EAAiB7E,aAAe,CAC5BoC,MAAO,IAGIyC,Q,QC9BTG,EAAY,SAAChI,GAChB,IAAMiI,EAAgBjI,EAAMiI,cAEtBC,EAAmBC,MAAaC,MAAM,CAC1CpG,MAAOmG,MAAaE,SAAS,0BAC7BzE,WAAYuE,MACRE,SAAS,6BACTC,WACJ3F,MAAOwF,MAAaI,KAAK,aAAc,CACrCC,GAAI,EACJC,KAAMN,MAAaE,SAAS,6BAC5BK,UAAWP,MAAaQ,kBAI3B,OACI,8BACE,cAAC,IAAD,CACEV,cAAeA,EACfC,iBAAkBA,EAClBU,SAAU5I,EAAM4I,SAHlB,SAMI,SAAAC,GAAgB,IACNC,EAAiBD,EAAjBC,aAER,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CACE3H,KAAK,QACL6E,UAAWX,EAEXD,MAAM,QACNK,YAAY,uBAGd,cAAC,IAAD,CACEtE,KAAK,aACL6E,UAAWE,EAEXd,MAAM,WACNK,YAAY,8BACZU,QAASjB,IAGX,cAAC,IAAD,CACC/D,KAAK,QACL6E,UAAW6B,EACXzC,MAAM,UAGP,cAAC,IAAD,UACI,eAAC,IAAD,CACEI,KAAK,SACLnE,MAAOrB,EAAM+I,UAAY,UAAY,UAFvC,UAIGD,GAAgB,cAAC,IAAD,CAAS/F,KAAK,OAC7B/C,EAAM+I,UAAY,eAAiB,kCAgB/Df,EAAUhF,aAAe,CACvB4F,SAAU,MAIGZ,QClCAgB,G,OAlDK,WAChB,IAAMnE,EAAWC,cACXC,EAAWC,cACTiE,EAAYC,cAAZD,QACFF,GAAaE,EAGbE,EAAc/I,aAAY,SAAAC,GAAK,OAAIA,EAAMuE,OAAOwE,MAAK,SAAAzG,GAAK,OAAIA,EAAMgB,MAASsF,QAE7EhB,EAAgBc,EACnB,CACC/G,MAAO,GACP4B,WAAY,KACZjB,MAAO,IAERwG,EAkBH,OACI,sBAAK/H,UAAU,aAAf,UACI,cAAC,EAAD,CACCY,MAAM,4BAGP,qBAAKZ,UAAU,kBAAf,SACI,cAAC,EAAD,CACC2H,UAAWA,EACXd,cAAeA,EACfW,SA1BQ,SAACS,GACpB,OAAO,IAAIC,SAAQ,SAAAC,GACjBC,YAAW,WACJT,EACClE,EAASf,EAASuF,KAGnBxE,EAASR,EAAYgF,IAGxBtE,EAAS,WACTwE,GAAQ,MACT,kB,8CCjCLE,GAAgB,uCAAG,4BAAA7I,EAAA,2DAChB8I,EAAcC,KAASC,OAAOF,aADd,yCAGXA,EAAYG,cAHD,UAOE,4DAEtBC,aAAaC,QAFS,6DAPF,yCAUS,MAVT,gCAaf,IAAIT,SAAQ,SAACC,EAASS,GAC5B,IAAMC,EACJN,KAASC,OAAOM,mBAAhB,uCAAmC,WAAM5J,GAAN,iBAAAM,EAAA,6DAC3BuJ,EAAQX,YAAW,WACtBQ,EAAO,QACP,KACC1J,GACF0J,EAAO,MALwB,SAQb1J,EAAKuJ,aARQ,OAQ3BO,EAR2B,OAYjCb,EAAQa,GAERH,IACAI,aAAaF,GAfoB,2CAAnC,2DAfmB,2CAAH,qDAoChBG,GAAcC,IAAMC,OAAO,CAC7BC,QAASC,wCACTC,QAAS,CACL,eAAgB,oBAEpBC,iBAAkB,SAAAC,GAAM,OAAIC,KAAYC,UAAUF,MAGtDP,GAAYU,aAAaC,QAAQC,IAAjC,+BAAAtK,EAAA,MAAqC,WAAOuK,GAAP,eAAAvK,EAAA,sEACb6I,KADa,cAC3BW,EAD2B,UAG7Be,EAAOR,QAAQS,cAAf,iBAAyChB,IAHZ,kBAM1Be,GAN0B,2CAArC,uDAUAb,GAAYU,aAAaK,SAASH,KAAI,SAACG,GACnC,OAAGA,GAAYA,EAASC,KACbD,EAASC,KAGbD,KAET,SAACE,GACC,MAAMA,KAGKjB,I,GAAAA,MCvDAkB,GAZI,CAClBC,OADkB,SACXZ,GAEL,OAAOP,GAAYoB,IADP,YACgB,CAAEb,YAGhCa,IANkB,SAMd/H,GACF,IAAMgI,EAAG,mBAAehI,GACxB,OAAO2G,GAAYoB,IAAIC,K,UCLpBC,I,MAAW,CACbC,WAAY,WACZC,iBAAkB,UAElBC,cAAe,CACbpC,KAASC,KAAKoC,mBAAmBC,YACjCtC,KAASC,KAAKsC,qBAAqBD,eAuB1BE,GAlBI,WACf,OACG,gCACG,sBAAK/K,UAAU,cAAf,UACI,uCACA,iEAGJ,8BACE,cAAC,sBAAD,CACEwK,SAAUA,GACVQ,aAAczC,KAASC,e,QCTtByC,GAhBC,CACbC,MAAO,WACH,OAAO,IAAIhD,SAAQ,SAACC,EAASS,GAC1BR,YAAW,WACT,IAAME,EAAcC,KAASC,OAAOF,YACpCH,EAAQ,CACJ5F,GAAI+F,EAAY6C,IAChBpL,KAAMuI,EAAY8C,YAClBC,MAAO/C,EAAY+C,MACnB7K,SAAU8H,EAAYgD,aAEzB,UCRAJ,GAAQK,YAAiB,aAAD,uCAAe,WAAO9B,EAAQ+B,GAAf,eAAAhM,EAAA,sEAGtByL,GAAQC,QAHc,cAG1C5C,EAH0C,yBAIzCA,GAJyC,2CAAf,yDAwCtBmD,GA/BGpJ,YAAY,CAC3BtC,KAAM,OACNuC,aAAc,CACVnD,QAAS,GACTuM,SAAS,EACTvB,MAAO,IAEX1H,SAAU,GAGVkJ,eAAa,sBAEPT,GAAMU,SAAU,SAAC3M,GAChBA,EAAMyM,SAAU,KAHV,gBAOPR,GAAMW,UAAW,SAAC5M,EAAO0D,GACxB1D,EAAMyM,SAAU,EAChBzM,EAAMkL,MAAQxH,EAAOE,WATf,gBAaPqI,GAAMY,WAAY,SAAC7M,EAAO0D,GACzB1D,EAAMyM,SAAU,EAChBzM,EAAME,QAAUwD,EAAOE,WAfjB,MAoBRQ,QCpBRkF,KAASwD,cAJM,CACbC,OAAQ1C,0CACR2C,WAAY3C,0CAiFC4C,OA5Ef,WAAgB,IAAD,EAEmB9M,mBAAS,IAF5B,mBAEI+M,GAFJ,aAGa/M,oBAAS,GAHtB,mBAGNgN,EAHM,KAGCC,EAHD,KAIP5I,EAAWC,cAiDjB,OA9CA4I,qBAAU,YAEW,uCAAG,8BAAA9M,EAAA,sEAEbiK,EAAS,CACb8C,MAAO,EACPC,OAAQ,IAJS,SAOKpC,GAAWC,OAAOZ,GAPvB,OAOZQ,EAPY,OAQlBkC,EAAYlC,EAASC,MARH,gDAUjBuC,QAAQC,IAAI,+BAAZ,MAViB,yDAAH,qDAcnBC,KAEC,IAIHL,qBAAU,WACR,IAAMzD,EAAyBN,KAASC,OAAOM,mBAAhB,uCAAmC,WAAM5J,GAAN,eAAAM,EAAA,yDAC5DN,EAD4D,uBAG9DuN,QAAQC,IAAI,qBAHkD,mDASnCjJ,EAASyH,MAT0B,OASxD0B,EATwD,OAU9DC,YAAaD,GACbP,GAAS,GAXqD,kDAc9DI,QAAQC,IAAI,oBAAqB,KAAMI,SAduB,0DAAnC,uDAmB/B,OAAO,kBAAMjE,OACZ,IAID,qBAAK7I,UAAU,YAAf,SACE,cAAC,WAAD,CAAU+M,SAAU,6CAApB,SACE,eAAC,IAAD,WACE,cAAC,EAAD,CACEjO,cAAesN,IAGjB,eAAC,IAAD,WACG,cAAC,IAAD,CAAOY,KAAK,SAASC,QAAS,cAAC,EAAD,MAC7B,cAAC,IAAD,CAAOD,KAAK,aAAaC,QAAS,cAAC,EAAD,IAAlC,SACE,cAAC,IAAD,CAAOD,KAAK,WAAWC,QAAS,cAAC,IAAD,QAElC,cAAC,IAAD,CAAOD,KAAK,WAAWC,QAAS,cAACC,GAAD,MACjC,cAAC,IAAD,CAAOD,QAAS,cAAC,EAAD,iBClFdE,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBhG,MAAK,YAAkD,IAA/CiG,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHRO,GAAc,CAClBnK,OAAQoK,EACR1O,KAAMuM,IAOOoC,GAJDC,YAAe,CAC3BzK,QAASsK,KCFXI,IAASC,OACP,cAAC,IAAD,CAAUH,MAAOA,GAAjB,SACE,cAAC,IAAMI,WAAP,UACA,cAAC,GAAD,QAGFC,SAASC,eAAe,SAM1BhB,O","file":"static/js/main.fc71f0bc.chunk.js","sourcesContent":["import React from 'react';\r\n\r\n\r\nfunction NotFound(props) {\r\n    return (\r\n        <div>\r\n            OOpss ... Not found\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NotFound;","import React, { useState }  from 'react'\r\nimport { NavLink, useNavigate } from 'react-router-dom'\r\nimport {\r\n    Collapse,\r\n    Nav,\r\n    Navbar,\r\n    NavbarToggler,\r\n} from 'reactstrap'\r\nimport { useSelector } from 'react-redux'\r\nimport './Header.scss'\r\n\r\nconst Header = ({ loginBtnClick }) => {\r\n    const userInfo = useSelector(state => state.user.current)\r\n    const [dropDown, setDropDown] = useState(false);\r\n\r\n\r\n    const handleShowDropDown = () => {\r\n        setDropDown(!dropDown)\r\n    }\r\n\r\n    const handleLogOutBtn = async () => {\r\n        const dbs = await window.indexedDB.databases();\r\n        dbs.forEach(db => { window.indexedDB.deleteDatabase(db.name) });\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Navbar\r\n                className=\"px-5\"\r\n                color=\"light\"\r\n                expand=\"md\"\r\n                light\r\n            >\r\n                <NavLink\r\n                    className=\"header__link text-decoration-none\"\r\n                    to=\"/photos\"\r\n                >\r\n                    Trang chủ\r\n                </NavLink>\r\n                <NavbarToggler onClick={function noRefCheck(){}} />\r\n                <Collapse navbar>\r\n                <Nav\r\n                    navbar\r\n                >\r\n                  \r\n                {loginBtnClick\r\n                  ?\r\n                   <div className=\"user__info\">\r\n                       <img className=\"user__info-img\" src={userInfo.photoUrl} alt={userInfo.photoUrl} />\r\n                        <div className=\"user__info-content\">\r\n                            <p className=\"user__info-content-desc\">{userInfo.name}</p>\r\n                            <i\r\n                             onClick={handleShowDropDown}\r\n                             className=\"fas fa-caret-down user__info-content-icon\"\r\n                            >\r\n\r\n                            </i>\r\n\r\n                            {\r\n                                dropDown \r\n                                 &&\r\n                                <ul className=\"user__info-content-list\">\r\n                                <li\r\n                                 onClick={handleLogOutBtn}\r\n                                >\r\n                                   <a href=\"/photos\">Đăng xuất</a>\r\n                                </li>\r\n                            </ul>\r\n                            }\r\n                        </div>\r\n                   </div>\r\n                  :\r\n                  <NavLink\r\n                    className=\"header__link text-decoration-none\"\r\n                        to=\"/sign-in\"\r\n                   >\r\n                    Đăng Nhập\r\n                   </NavLink>\r\n                }          \r\n                    \r\n                </Nav>\r\n                </Collapse>\r\n            </Navbar>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Header\r\n","import React from 'react'\r\nimport './Banner.scss'\r\n\r\nconst Banner = (props) => {\r\n\r\n    const { title, backgroundUrl } = props\r\n\r\n    const bannerStyle = backgroundUrl\r\n     ? { backgroundImage: `url(${backgroundUrl})` }\r\n     : {}\r\n\r\n    return (\r\n        <section className=\"banner\" style={bannerStyle}>\r\n            <h1 className=\"banner__title\">{title}</h1>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Banner\r\n","import orangeBackground from '../assets/images/orange-bg.jpg'\r\nimport blueBackground from '../assets/images/blue-bg.jpg'\r\nimport colorfullBackground from '../assets/images/colorful-bg.jpg'\r\nimport pinkBackground from '../assets/images/pink-bg.jpg'\r\n\r\nconst Images = {\r\n    ORANGE_BG: orangeBackground,\r\n    BLUE_BG: blueBackground,\r\n    COLOR_FULL_BG: colorfullBackground,\r\n    PINK_BG: pinkBackground,\r\n}\r\n\r\nexport default Images","export default __webpack_public_path__ + \"static/media/orange-bg.a98c2734.jpg\";","export default __webpack_public_path__ + \"static/media/blue-bg.93b683dc.jpg\";","export default __webpack_public_path__ + \"static/media/colorful-bg.95c0fb34.jpg\";","export default __webpack_public_path__ + \"static/media/pink-bg.d6dafc0a.jpg\";","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Button } from 'reactstrap';\r\nimport './PhotoCard.scss';\r\n\r\nPhotoCard.propTypes = {\r\n  photo: PropTypes.object,\r\n  onEditClick: PropTypes.func,\r\n  onRemoveClick: PropTypes.func,\r\n};\r\n\r\nPhotoCard.defaultProps = {\r\n  photo: {},\r\n  onEditClick: null,\r\n  onRemoveClick: null,\r\n}\r\n\r\nfunction PhotoCard(props) {\r\n  const { photo, onEditClick, onRemoveClick } = props;\r\n\r\n  const handleEditClick = () => {\r\n    if (onEditClick) onEditClick(photo);\r\n  }\r\n\r\n  const handleRemoveClick = () => {\r\n    if (onRemoveClick) onRemoveClick(photo);\r\n  }\r\n\r\n  return (\r\n    <div className=\"photo mt-5\">\r\n      <img src={photo.photo} alt={photo.title} />\r\n\r\n      <div className=\"photo__overlay\">\r\n        <h3 className=\"photo__title\">{photo.title}</h3>\r\n\r\n        <div className=\"photo__actions\">\r\n          <div>\r\n            <Button outline size=\"sm\" color=\"light\" onClick={handleEditClick}>\r\n              Edit\r\n            </Button>\r\n          </div>\r\n\r\n          <div>\r\n            <Button outline size=\"sm\" color=\"danger\" onClick={handleRemoveClick}>\r\n              Remove\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PhotoCard;","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { Row, Col } from 'reactstrap';\r\nimport PhotoCard from '../PhotoCard';\r\n\r\nPhotoList.propTypes = {\r\n  photoList: PropTypes.array,\r\n  onPhotoEditClick: PropTypes.func,\r\n  onPhotoRemoveClick: PropTypes.func,\r\n};\r\n\r\nPhotoList.defaultProps = {\r\n  photoList: [],\r\n  onPhotoEditClick: null,\r\n  onPhotoRemoveClick: null,\r\n};\r\n\r\nfunction PhotoList(props) {\r\n  const { photoList, onPhotoEditClick, onPhotoRemoveClick } = props;\r\n\r\n  return (\r\n    <Row>\r\n      {photoList.map(photo => (\r\n        <Col key={photo.title} xs=\"12\" md=\"6\" lg=\"3\">\r\n          <PhotoCard\r\n            photo={photo}\r\n            onEditClick={onPhotoEditClick}\r\n            onRemoveClick={onPhotoRemoveClick}\r\n          />\r\n        </Col>\r\n      ))}\r\n    </Row>\r\n  );\r\n}\r\n\r\nexport default PhotoList;","import { createSlice } from \"@reduxjs/toolkit\"\r\n\r\nconst initialPhotos = [\r\n    {\r\n      id: 91176,\r\n      categoryId: 5,\r\n      photo: 'https://picsum.photos/id/532/300/300',\r\n      title: 'Enim laboris dolore consectetur et fugiat do amet eiusmod anim proident do culpa irure consectetur.'\r\n    },\r\n    {\r\n      id: 82605,\r\n      categoryId: 1,\r\n      photo: 'https://picsum.photos/id/43/300/300',\r\n      title: 'Ad officia magna veniam sunt.'\r\n    },\r\n    {\r\n      id: 74760,\r\n      categoryId: 3,\r\n      photo: 'https://picsum.photos/id/722/300/300',\r\n      title: 'Minim anim in sunt esse nisi sit magna consequat in sit laboris adipisicing.'\r\n    },\r\n    {\r\n      id: 39588,\r\n      categoryId: 5,\r\n      photo: 'https://picsum.photos/id/294/300/300',\r\n      title: 'Deserunt in tempor est id consectetur cupidatat.'\r\n    },\r\n    {\r\n      id: 72133,\r\n      categoryId: 4,\r\n      photo: 'https://picsum.photos/id/229/300/300',\r\n      title: 'Labore culpa velit sunt sit anim ad do veniam do proident sunt et nisi mollit.'\r\n    },\r\n    {\r\n      id: 95333,\r\n      categoryId: 1,\r\n      photo: 'https://picsum.photos/id/862/300/300',\r\n      title: 'Fugiat fugiat voluptate tempor minim ipsum nisi culpa magna officia ea deserunt tempor.'\r\n    },\r\n    {\r\n      id: 62419,\r\n      categoryId: 3,\r\n      photo: 'https://picsum.photos/id/515/300/300',\r\n      title: 'Excepteur nisi aliquip ex aliqua consectetur id laboris cillum elit dolor dolor anim sint.'\r\n    },\r\n    {\r\n      id: 12569,\r\n      categoryId: 5,\r\n      photo: 'https://picsum.photos/id/730/300/300',\r\n      title: 'Occaecat exercitation Lorem cupidatat adipisicing elit duis consequat esse et tempor eu enim cupidatat.'\r\n    },\r\n    {\r\n      id: 47434,\r\n      categoryId: 3,\r\n      photo: 'https://picsum.photos/id/287/300/300',\r\n      title: 'Veniam officia est nulla proident labore.'\r\n    },\r\n    {\r\n      id: 52685,\r\n      categoryId: 3,\r\n      photo: 'https://picsum.photos/id/859/300/300',\r\n      title: 'Ut incididunt do magna culpa consectetur id deserunt et enim elit quis.'\r\n    },\r\n    {\r\n      id: 69928,\r\n      categoryId: 5,\r\n      photo: 'https://picsum.photos/id/110/300/300',\r\n      title: 'Nisi velit fugiat voluptate fugiat magna officia qui fugiat ad non.'\r\n    },\r\n    {\r\n      id: 86160,\r\n      categoryId: 5,\r\n      photo: 'https://picsum.photos/id/649/300/300',\r\n      title: 'Id ex enim non dolore reprehenderit eu ullamco.'\r\n    },\r\n  ];\r\n\r\n\r\nconst photo = createSlice({\r\n    name: 'photos',\r\n    initialState: initialPhotos,\r\n    reducers: {\r\n        addPhoto: (state, action) => {\r\n            state.push(action.payload)\r\n        },\r\n        removePhoto: (state, action) => {\r\n          const removePhotoId = action.payload\r\n          return state.filter(photo => photo.id !== removePhotoId)\r\n          \r\n        },\r\n        updatePhoto: (state, action) => {\r\n          const newPhoto = action.payload\r\n          const photoIndex = state.findIndex(photo => photo.id === newPhoto.id)\r\n\r\n          if(photoIndex >= 0) {\r\n            state[photoIndex] = newPhoto\r\n          }\r\n        }\r\n    }\r\n})\r\n\r\n\r\n\r\nconst { reducer, actions } = photo\r\nexport const { addPhoto, removePhoto, updatePhoto } = actions\r\nexport default reducer","import React from 'react'\r\nimport Banner from '../../../../components/Banner/Banner'\r\nimport Images from '../../../../constants/images'\r\nimport { Container } from 'reactstrap'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport PhotoList from 'features/Photo/components/PhotoList'\r\nimport { removePhoto } from 'features/Photo/PhotoSlice'\r\n\r\nconst MainPage = () => {\r\n    const photos = useSelector(state => state.photos)\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n\r\n    const handleEditClick = (photo) => {\r\n      const editPhotoUrl = `/photos/add/${photo.id}`\r\n      navigate(editPhotoUrl)\r\n    }\r\n\r\n    const handleRemoveClick = (photo) => {\r\n      dispatch(removePhoto(photo.id))\r\n    }\r\n   \r\n    return (\r\n        <div className=\"photo-main\">\r\n            <Banner \r\n              title=\"Your awesome photos\"\r\n              backgroundUrl={Images.PINK_BG}\r\n            />\r\n\r\n            <Container\r\n              className=\"text-center\"\r\n            >\r\n              <Link\r\n               className=\"d-block mt-3 text-decoration-none\"\r\n               to=\"/photos/add\"\r\n              >\r\n                  Add new photo\r\n              </Link>\r\n\r\n            <PhotoList \r\n              photoList={photos}\r\n              onPhotoEditClick={handleEditClick}\r\n              onPhotoRemoveClick={handleRemoveClick}\r\n            />\r\n            </Container>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MainPage\r\n","export const PHOTO_CATEGORY_OPTIONS = [\r\n  { value: 1, label: 'Technology' },\r\n  { value: 2, label: 'Education' },\r\n  { value: 3, label: 'Nature' },\r\n  { value: 4, label: 'Animals' },\r\n  { value: 5, label: 'Styles' },\r\n]","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport {\r\n    FormGroup,\r\n    Input,\r\n    Label,\r\n    FormFeedback,\r\n} from 'reactstrap'\r\n\r\nimport { ErrorMessage } from 'formik'\r\n\r\n\r\nconst InputField = (props) => {\r\n    const { field, form, type, label, placeholder } = props\r\n\r\n    const { name } = field\r\n\r\n    const { errors, touched } = form\r\n    const showError = errors[name] && touched[name]\r\n\r\n    return (\r\n        <FormGroup>\r\n            {label && <Label for={name}> {label} </Label>}\r\n            <Input\r\n              id={name}\r\n              {...field}\r\n\r\n              type={type}\r\n              disable=\"false\"\r\n              placeholder={placeholder}\r\n              invalid={showError}\r\n            />\r\n\r\n            <ErrorMessage name={name} component={FormFeedback} />\r\n        </FormGroup>\r\n    )\r\n}\r\n\r\nInputField.propTypes = {\r\n    field: PropTypes.object.isRequired,\r\n    form: PropTypes.object.isRequired,\r\n\r\n    type: PropTypes.string,\r\n    label: PropTypes.string,\r\n    placeholder: PropTypes.string,\r\n    disable: PropTypes.bool,\r\n}\r\n\r\nInputField.defaultProps = {\r\n    type: 'text',\r\n    label: '',\r\n    placeholder: '',\r\n}\r\n\r\nexport default InputField\r\n","import React from 'react'\r\nimport {\r\n    FormGroup,\r\n    Label,\r\n    FormFeedback,\r\n} from 'reactstrap'\r\nimport Select from 'react-select'\r\nimport { ErrorMessage } from 'formik'\r\nimport './style.scss'\r\n\r\nconst SelectField = (props) => {\r\n   const { field, form, options, label, placeholder } = props\r\n   const { name, value } = field\r\n   const { errors, touched } = form\r\n   const showError = errors[name] && touched[name]\r\n\r\n   const selectedOption = options.filter(option => option.value === value)\r\n\r\n   const handleSelectedOptionChange = (selectedOption) => {\r\n       const selectedValue = selectedOption\r\n        ? selectedOption.value\r\n        : selectedOption\r\n\r\n        const changeEvent = {\r\n            target: {\r\n                name: name,\r\n                value: selectedValue\r\n            }\r\n        }\r\n\r\n        field.onChange(changeEvent)\r\n   }\r\n\r\n    return (\r\n        <FormGroup>\r\n            {label && <Label for={name}> {label} </Label>}\r\n         \r\n            <Select\r\n                className={showError && 'is-invalid valid-selected'}\r\n                id={name}\r\n                {...field}\r\n                value={selectedOption}\r\n                onChange={handleSelectedOptionChange}\r\n\r\n                placeholder={placeholder}\r\n                options={options}\r\n            />\r\n            {showError && <ErrorMessage name={name} component={FormFeedback}/>}\r\n        </FormGroup>\r\n    )\r\n}\r\n\r\n\r\nSelectField.apply.defaultProps = {\r\n    label: '',\r\n    placeholder: '',\r\n    options: [],\r\n}\r\n\r\nexport default SelectField\r\n","import { PropTypes } from 'prop-types'\r\nimport React from 'react'\r\nimport { Button } from 'reactstrap'\r\nimport './RandomPhoto.scss'\r\n\r\nconst getRandomImageUrl = () => {\r\n    const randomId = Math.floor(Math.random() * 1000)\r\n    return `https://picsum.photos/id/${randomId}/300/300`\r\n}\r\n\r\n\r\nconst RandomPhoto = (props) => {\r\n    const  { name, imageUrl, onImageUrlChange, onRandomButtonBlur } = props\r\n\r\n    const handleRandomPhotoClick = async () => {\r\n        if(onImageUrlChange) {\r\n            const randomImageUrl = getRandomImageUrl()\r\n            onImageUrlChange(randomImageUrl)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"random-photo\">\r\n            <div className=\"random-photo__button\">\r\n                <Button\r\n                 outline\r\n                 name={name}\r\n                 color=\"primary\"\r\n                 onBlur={onRandomButtonBlur}\r\n                 onClick={handleRandomPhotoClick}\r\n                >\r\n                    Random a photo\r\n                </Button>\r\n            </div>\r\n\r\n            <div className=\"random-photo__photo mt-3\">\r\n                {imageUrl &&\r\n                   <img\r\n                    src={imageUrl}\r\n                    alt=\"OOps ... not found.Please click random again\"\r\n                    onError={ (e) => e.target.src = handleRandomPhotoClick() }\r\n                   />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nRandomPhoto.prototype = {\r\n    name: PropTypes.string,\r\n    imageUrl: PropTypes.string,\r\n    onImageUrlChange: PropTypes.func,\r\n    onRandomButtonBlur: PropTypes.func,\r\n}\r\n\r\nRandomPhoto.defaultProps = {\r\n    name: '',\r\n    imageUrl: '',\r\n    onImageUrlChange: null,\r\n    onRandomButtonBlur: null\r\n}\r\n\r\nexport default RandomPhoto\r\n","import { PropTypes } from 'prop-types'\r\nimport React from 'react'\r\nimport { FormFeedback, FormGroup, Label } from 'reactstrap'\r\nimport RandomPhoto from 'components/RandomPhoto'\r\nimport { ErrorMessage } from 'formik'\r\n\r\nconst RandomPhotoField = (props) => {\r\n    const { field, form, label } = props\r\n    const { name, value, onBlur } = field\r\n    \r\n    const { errors, touched } = form\r\n    const showError = errors[name] && touched[name]\r\n\r\n    const handleImageChange = (newImageUrl) => {\r\n        form.setFieldValue(name, newImageUrl)\r\n    }\r\n\r\n    return (\r\n        <FormGroup>\r\n            {label && <Label for={name}> {label} </Label>}\r\n\r\n            <RandomPhoto\r\n              name={name}\r\n              imageUrl={value}\r\n              onImageUrlChange={handleImageChange}\r\n              onRandomButtonBlur={onBlur}\r\n            />\r\n            <div className={showError && 'is-invalid'}></div>\r\n            {showError && <ErrorMessage name={name} component={FormFeedback} />}\r\n        </FormGroup>\r\n    )\r\n}\r\n\r\nRandomPhotoField.propTypes = {\r\n    field: PropTypes.object.isRequired,\r\n    form: PropTypes.object.isRequired,\r\n\r\n    label: PropTypes.string\r\n}\r\n\r\nRandomPhotoField.defaultProps = {\r\n    label: '',\r\n}\r\n\r\nexport default RandomPhotoField\r\n","import React from 'react'\r\nimport {\r\n  Button,\r\n  FormGroup,\r\n  Spinner,\r\n} from 'reactstrap'\r\nimport { PHOTO_CATEGORY_OPTIONS } from 'constants/global'\r\nimport {  Formik, Form, FastField } from 'formik'\r\nimport InputField from 'custom-field/InputField'\r\nimport SelectField from 'custom-field/SelectField'\r\nimport RandomPhotoField from 'custom-field/RandomPhotoField'\r\nimport * as Yup from 'yup'\r\nimport { PropTypes } from 'prop-types'\r\n\r\nconst PhotoForm = (props) => {\r\n   const initialValues = props.initialValues\r\n\r\n   const validationSchema = Yup.object().shape({\r\n     title: Yup.string().required('This field is required'),\r\n     categoryId: Yup.number()\r\n        .required('This is field is required')\r\n        .nullable(),\r\n     photo: Yup.string().when('categoryId', {\r\n       is: 1,\r\n       then: Yup.string().required('This is field is required'),\r\n       otherwise: Yup.string().notRequired(),\r\n     })\r\n   })\r\n\r\n    return (\r\n        <div>\r\n          <Formik\r\n            initialValues={initialValues}\r\n            validationSchema={validationSchema}\r\n            onSubmit={props.onSubmit}\r\n          >\r\n            {\r\n              formikProps => {\r\n                const { isSubmitting } = formikProps\r\n\r\n                return (\r\n                  <Form>\r\n                    <FastField \r\n                      name=\"title\"\r\n                      component={InputField}\r\n\r\n                      label=\"Title\"\r\n                      placeholder=\"Eg: Wow nature ...\"\r\n                    />\r\n\r\n                    <FastField \r\n                      name=\"categoryId\"\r\n                      component={SelectField}\r\n\r\n                      label=\"Category\"\r\n                      placeholder=\"What's your photo category?\"\r\n                      options={PHOTO_CATEGORY_OPTIONS}\r\n                    />\r\n\r\n                    <FastField \r\n                     name=\"photo\"\r\n                     component={RandomPhotoField}\r\n                     label=\"Photo\"\r\n                    />\r\n        \r\n                    <FormGroup>\r\n                        <Button\r\n                          type=\"submit\"\r\n                          color={props.isAddMode ? 'primary' : 'success'}\r\n                        >\r\n                          {isSubmitting && <Spinner size=\"sm\" />}\r\n                           {props.isAddMode ? 'Add to album' : 'Update your photo'}\r\n                        </Button>\r\n                    </FormGroup>\r\n                  </Form>\r\n               )\r\n              }\r\n            }\r\n          </Formik>\r\n        </div>\r\n    )\r\n}\r\n\r\nPhotoForm.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n};\r\n\r\nPhotoForm.defaultProps = {\r\n  onSubmit: null,\r\n}\r\n\r\n\r\nexport default PhotoForm\r\n","import Banner from 'components/Banner/Banner'\r\nimport PhotoForm from 'features/Photo/components/PhotoForm/PhotoForm'\r\nimport React from 'react'\r\nimport { useNavigate, useParams } from 'react-router-dom';\r\nimport { addPhoto, updatePhoto } from 'features/Photo/PhotoSlice'\r\nimport './style.scss'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst AddEditPage = () => {\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const { photoId } = useParams()\r\n    const isAddMode = !photoId\r\n\r\n    //get value from redux\r\n    const editedPhoto = useSelector(state => state.photos.find(photo => photo.id ===  +photoId))\r\n\r\n    const initialValues = isAddMode\r\n     ? {\r\n        title: '',\r\n        categoryId: null,\r\n        photo: '',\r\n       }\r\n     : editedPhoto\r\n\r\n    const handleSubmit = (values) => {\r\n      return new Promise(resolve => {\r\n        setTimeout(() => {\r\n            if(isAddMode) {\r\n                dispatch(addPhoto(values))\r\n                return\r\n            }else {\r\n               dispatch(updatePhoto(values))\r\n            }\r\n\r\n            navigate('/photos')\r\n            resolve(true)\r\n        }, 2000)\r\n      })\r\n    }\r\n\r\n    return (\r\n        <div className=\"photo-edit\">\r\n            <Banner \r\n             title=\"Pick your amazing photo\"\r\n            />\r\n\r\n            <div className=\"photo-edit_form\">\r\n                <PhotoForm\r\n                 isAddMode={isAddMode}\r\n                 initialValues={initialValues}\r\n                 onSubmit={handleSubmit}\r\n                />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default AddEditPage\r\n","import axios from 'axios'\r\nimport queryString from 'query-string'\r\nimport firebase from \"firebase/compat/app\"\r\n\r\nconst getFirebaseToken = async () => {\r\n   const currentUser = firebase.auth().currentUser\r\n   if(currentUser) {\r\n       return currentUser.getIdToken()\r\n   }\r\n\r\n   //user logout\r\n   const keyLocalStorage = 'firebase:host:notereact-bb3bb-default-rtdb.firebaseio.com'\r\n   const hasRememberAccount = \r\n     localStorage.getItem(keyLocalStorage)\r\n   if(!hasRememberAccount) return null\r\n\r\n   //user login but current user is not fetched ==> wait 10s\r\n   return new Promise((resolve, reject) => {\r\n    const unregisterAuthObserver = \r\n      firebase.auth().onAuthStateChanged(async user => {\r\n        const timer = setTimeout(() => {\r\n           reject(null)\r\n        }, 10000)\r\n        if(!user) {\r\n          reject(null)\r\n        }\r\n  \r\n        const token = await user.getIdToken()\r\n        // console.log('Account Name: ', user.displayName)\r\n        // console.log('[Axios] Token: ',token)\r\n\r\n        resolve(token)\r\n        \r\n        unregisterAuthObserver()\r\n        clearTimeout(timer)\r\n    });\r\n   })\r\n\r\n}\r\n\r\nconst axiosClient = axios.create({\r\n    baseURL: process.env.REACT_APP_API_URL,\r\n    headers: {\r\n        'content-type': 'application/json'\r\n    },\r\n    paramsSerializer: params => queryString.stringify(params)\r\n})\r\n\r\naxiosClient.interceptors.request.use(async (config) => {\r\n    const token = await getFirebaseToken()\r\n    if(token) {\r\n        config.headers.Authorization = `Bearer ${token}`\r\n    }\r\n\r\n    return config\r\n})\r\n\r\n\r\naxiosClient.interceptors.response.use((response) => {\r\n    if(response && response.data) {\r\n        return response.data\r\n    }\r\n\r\n    return response\r\n}, \r\n  (error) => {\r\n    throw error\r\n})\r\n\r\nexport default axiosClient\r\n","import axiosClient from './axiosClient'\r\n\r\nconst ProductApi = {\r\n getAll(params) {\r\n   const url = '/products'\r\n   return axiosClient.get(url, { params })\r\n },\r\n\r\n get(id) {\r\n   const url = `products/${id}`\r\n   return axiosClient.get(url)\r\n }\r\n}\r\n\r\nexport default ProductApi","import React from 'react'\r\nimport { StyledFirebaseAuth } from 'react-firebaseui';\r\nimport firebase from \"firebase/compat/app\"\r\nimport \"firebase/compat/auth\"\r\n\r\nconst uiConfig = {\r\n    signInFlow: 'redirect',\r\n    signInSuccessUrl: '/photos',\r\n    // We will display Google and Facebook as auth providers.\r\n    signInOptions: [\r\n      firebase.auth.GoogleAuthProvider.PROVIDER_ID,\r\n      firebase.auth.FacebookAuthProvider.PROVIDER_ID\r\n    ],\r\n  };\r\n  \r\n\r\nconst SignInPage = () => {\r\n    return (\r\n       <div>\r\n          <div className=\"text-center\">\r\n              <h2>Login</h2>  \r\n              <p>or login with social accounts</p>\r\n          </div>\r\n\r\n          <div>\r\n            <StyledFirebaseAuth\r\n              uiConfig={uiConfig}\r\n              firebaseAuth={firebase.auth()}\r\n            />\r\n          </div>\r\n       </div>\r\n    )\r\n}\r\n\r\nexport default SignInPage\r\n","import firebase from 'firebase/compat/app';\r\n\r\nconst userApi = {\r\n   getMe: () => {\r\n       return new Promise((resolve, reject) => {\r\n          setTimeout(() => {\r\n            const currentUser = firebase.auth().currentUser\r\n            resolve({\r\n                id: currentUser.uid,\r\n                name: currentUser.displayName,\r\n                email: currentUser.email,\r\n                photoUrl: currentUser.photoURL,\r\n            })\r\n          }, 500)\r\n       })\r\n   }\r\n}\r\n\r\nexport default userApi","import { createSlice, createAsyncThunk } from '@reduxjs/toolkit'\r\nimport userApi from 'api/userApi'\r\n\r\n\r\n//create action with redux thunk\r\nexport const getMe = createAsyncThunk('user/getMe', async (params, thunkApi) => {\r\n    // thunkApi.dispatch(...) ==> để dispatch những action khác\r\n\r\n    const currentUser = await userApi.getMe()\r\n    return currentUser\r\n})\r\n\r\n\r\n\r\nconst userSlice = createSlice({\r\n   name: 'user',\r\n   initialState: {\r\n       current: {},\r\n       loading: false,\r\n       error: '',\r\n   },\r\n   reducers: {\r\n\r\n   },\r\n   extraReducers: {\r\n        //pending => khi đang chờ\r\n        [getMe.pending]: (state) => {\r\n          state.loading = true\r\n        },\r\n\r\n        //rejected => khi thất bại\r\n        [getMe.rejected]: (state, action) => {\r\n          state.loading = false\r\n          state.error = action.payload\r\n        },\r\n\r\n        //fulfilled => khi thành công\r\n        [getMe.fulfilled]: (state, action) => {\r\n          state.loading = false\r\n          state.current = action.payload\r\n        },\r\n   }\r\n})\r\n\r\nconst { reducer: userReducer } = userSlice\r\nexport default userReducer","import React, { Suspense, useEffect, useState } from 'react';\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Outlet,\n} from 'react-router-dom'\nimport NotFound from './components/NotFound/NotFound'\nimport Header from './components/Header/Header';\nimport MainPage from './features/Photo/page/Main/MainPage'\nimport AddEditPage from './features/Photo/page/AddEdit/AddEditPage'\nimport ProductApi from 'api/productApi';\nimport SignInPage from 'features/Auth/pages/SignIn';\nimport firebase from 'firebase/compat/app';\nimport 'firebase/compat/auth';\nimport { useDispatch } from 'react-redux';\nimport { getMe } from 'slice-common/userSlice'\nimport { unwrapResult } from '@reduxjs/toolkit'\n\n// Configure Firebase.\nconst config = {\n  apiKey: process.env.REACT_APP_FIREBASE_KEY,\n  authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n};\nfirebase.initializeApp(config);\n\n\nfunction App() {\n\n  const [products, setProducts] = useState([]);\n  const [login, setLogin] = useState(false);\n  const dispatch = useDispatch()\n\n\n  useEffect(() => {\n    \n    const getProductApi = async () => {\n      try {\n       const params = {\n         _page: 1,\n         _limit: 10,\n       }\n\n        const response = await ProductApi.getAll(params)\n        setProducts(response.data)\n      } catch(error) {\n         console.log('Failed to fetch product list', error)\n      }\n    }\n\n    getProductApi()\n    \n  }, []);\n\n\n  //login with socials\n  useEffect(() => {\n    const unregisterAuthObserver = firebase.auth().onAuthStateChanged(async user => {\n      if(!user) {\n        //user logout, handle something here\n        console.log('User is not login')\n        return\n      }\n\n      //Get me when signIn\n      try {\n        const actionResult = await dispatch(getMe())\n        unwrapResult(actionResult)\n        setLogin(true)\n\n      } catch (error) {\n        console.log('Failed to login: ', error.message)\n      }\n\n    });\n   \n    return () => unregisterAuthObserver()\n  }, []);\n\n\n  return (\n    <div className=\"photo-app\">\n      <Suspense fallback={<div>Loading...</div>}>\n        <Router>\n          <Header\n            loginBtnClick={login}\n          />\n\n          <Routes>\n             <Route path=\"photos\" element={<MainPage />} />\n              <Route path=\"photos/add\" element={<AddEditPage />}>\n                <Route path=\":photoId\" element={<Outlet />} />\n              </Route>\n              <Route path=\"/sign-in\" element={<SignInPage />} />\n             <Route element={<NotFound/>} />\n          </Routes>\n          \n        </Router>\n      </Suspense>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { configureStore } from '@reduxjs/toolkit'\r\nimport photoReducer from 'features/Photo/PhotoSlice'\r\nimport userReducer from 'slice-common/userSlice'\r\n\r\nconst rootReducer = {\r\n  photos: photoReducer,\r\n  user: userReducer\r\n}\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer\r\n})\r\n\r\nexport default store","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { Provider } from 'react-redux';\nimport store from './store/store'\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n    <App />\n  </React.StrictMode>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}